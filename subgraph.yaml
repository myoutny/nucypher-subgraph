specVersion: 0.0.1
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: StakingEscrow
    network: mainnet
    source:
      address: "0xf6d5137cfa2c5f23530a0fce66056b12b985554d"
      abi: StakingEscrow
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.2
      language: wasm/assemblyscript
      entities:
        - CommitmentMade
        - Deposited
        - Divided
        - Donated
        - Initialized
        - Locked
        - Merged
        - Minted
        - OwnershipTransferred
        - Prolonged
        - ReStakeLocked
        - ReStakeSet
        - Slashed
        - SnapshotSet
        - StateVerified
        - UpgradeFinished
        - WindDownSet
        - Withdrawn
        - WorkMeasurementSet
        - WorkerBonded
      abis:
        - name: StakingEscrow
          file: ./abis/StakingEscrow.json
      eventHandlers:
        - event: CommitmentMade(indexed address,indexed uint16,uint256)
          handler: handleCommitmentMade
        - event: Deposited(indexed address,uint256,uint16)
          handler: handleDeposited
        - event: Divided(indexed address,uint256,uint16,uint256,uint16)
          handler: handleDivided
        - event: Donated(indexed address,uint256)
          handler: handleDonated
        - event: Initialized(uint256)
          handler: handleInitialized
        - event: Locked(indexed address,uint256,uint16,uint16)
          handler: handleLocked
        - event: Merged(indexed address,uint256,uint256,uint16)
          handler: handleMerged
        - event: Minted(indexed address,indexed uint16,uint256)
          handler: handleMinted
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: Prolonged(indexed address,uint256,uint16,uint16)
          handler: handleProlonged
        - event: ReStakeLocked(indexed address,uint16)
          handler: handleReStakeLocked
        - event: ReStakeSet(indexed address,bool)
          handler: handleReStakeSet
        - event: Slashed(indexed address,uint256,indexed address,uint256)
          handler: handleSlashed
        - event: SnapshotSet(indexed address,bool)
          handler: handleSnapshotSet
        - event: StateVerified(indexed address,address)
          handler: handleStateVerified
        - event: UpgradeFinished(indexed address,address)
          handler: handleUpgradeFinished
        - event: WindDownSet(indexed address,bool)
          handler: handleWindDownSet
        - event: Withdrawn(indexed address,uint256)
          handler: handleWithdrawn
        - event: WorkMeasurementSet(indexed address,bool)
          handler: handleWorkMeasurementSet
        - event: WorkerBonded(indexed address,indexed address,indexed uint16)
          handler: handleWorkerBonded
      file: ./src/mapping.ts
